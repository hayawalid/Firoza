<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Firoza | Statistics</title>
  <link rel="stylesheet" href="/CSS/statistics.css">
  <script src="/Javascript/statistics.js"></script>
  <script src="/Javascript/admin-collections.js"></script>
  <script src="/Javascript/adminNavbar.js"></script>
  <link rel="stylesheet" href="/CSS/nav-bar-white.css">
  <link rel="icon" type="image/x-icon" href="/images/logo.ico">
  <link rel="stylesheet" href="/CSS/Footer.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>

<body>
  <%- include('partials/Admin-NavBar.ejs') %>

    <div class="main-layout">
      <main class="main">
        <!-- Row 1 -->
        <div class="row-1">
          <div class="box active-users">
            <h2 class="box-title">
              Active Users
            </h2>
            <h1 class="number-fs">72</h1>
            <div class="box-footer">
              
            </div>
          </div>
          <div class="box page-views">
            <h2 class="box-title">Page views per minute</h2>
            <div class="graph">
              <div aria-label="66 page views" style="height: 66%;"></div>
              <div aria-label="18 page views" style="height: 18%;"></div>
              <div aria-label="34 page views" style="height: 34%;"></div>
              <div aria-label="75 page views" style="height: 75%;"></div>
              <div aria-label="15 page views" style="height: 15%;"></div>
              <div aria-label="94 page views" style="height: 94%;"></div>
              <div aria-label="95 page views" style="height: 95%;"></div>
              <div aria-label="17 page views" style="height: 17%;"></div>
              <div aria-label="32 page views" style="height: 32%;"></div>
              <div aria-label="76 page views" style="height: 76%;"></div>
              <div aria-label="80 page views" style="height: 80%;"></div>
              <div aria-label="89 page views" style="height: 89%;"></div>
              <div aria-label="63 page views" style="height: 63%;"></div>
              <div aria-label="36 page views" style="height: 36%;"></div>
              <div aria-label="82 page views" style="height: 82%;"></div>
              <div aria-label="10 page views" style="height: 10%;"></div>
              <div aria-label="27 page views" style="height: 27%;"></div>
              <div aria-label="19 page views" style="height: 19%;"></div>
              <div aria-label="5 page views" style="height: 5%;"></div>
              <div aria-label="59 page views" style="height: 59%;"></div>
              <div aria-label="18 page views" style="height: 18%;"></div>
            </div>
            
          </div>
        </div>

        <!-- Row 2 - main stats -->
        <div class="row-2">
          <div class="stat-box">
            <div class="stat-title">
              <span>Users</span>
              <span class="stat-percentage green">
                <img src="../images/statistics/arrow-up-green.svg" alt="" />268%
              </span>
            </div>
            <h1 class="number-fs">
              <%= count %>
            </h1>
          </div>
          <div class="stat-box">
            <div class="stat-title">
              Number of visits
              <span class="stat-percentage green">
                <img src="../images/statistics/arrow-up-green.svg" alt="" />268%
              </span>
            </div>
            <h1 class="number-fs">
              17K
            </h1>
          </div>
          
          <div class="stat-box">
            <div class="stat-title">
              Customer Retention Rate (From Yesterday)
              <span class="stat-percentage red">
                <img src="../images/statistics/arrow-down-red.svg" alt="" />9%
              </span>
            </div>
            <h1 class="number-fs">
              <%= retentionRate %>%
            </h1>
          </div>
        </div>

        <!-- Row 3 - alert -->
        <!-- <div class="row-3">
            <div class="alert">
              <div class="alert-title">
                <img src="../images/statistics/alert.svg" alt="alert" />
                <div>
                  <h2>No alerts set</h2>
                  <p>Get notified when your data drastically changes</p>
                </div>
              </div>
              <button class="alert-btn">
                Set alert
              </button>
            </div>
          </div> -->

        <!-- Row 4 - Devices -->
        <div class="row-4">
          <div class="box device-box" >
            <div class="box-title">Quiz Stats</div>
        
            <div class="month-info">
                <div class="month-info-box">
                    Indian | <%= resultPercentages.indian %>%
                    <div class="month-bar" style="width:0 "></div>
                </div>
                <div class="month-info-box">
                    Egyptian | <%= resultPercentages.egyptian %>%
                    <div class="month-bar" style="width: 0 "></div>
                </div>
                <div class="month-info-box">
                    Minimalist | <%= resultPercentages.minimalist %>%
                    <div class="month-bar" style="width: 0 "></div>
                </div>
            </div>
        </div>
        
        </div>
        <div class="box device-box">
          <!-- <div class="box-title">User Demographics</div> -->
          <div class="reference-details">
            <!-- <div class="reference">
                  <span>Male</span>
                  <span>13%</span>
                </div>
                <div class="reference">
                  <span>Females</span>
                  <span>74%</span>
                </div>
                <div class="reference">
                  <span>Age: 9 to 18</span>
                  <span>5%</span>
                </div>
                <div class="reference">
                  <span>Age: 18 to 48</span>
                  <span>72%</span>
                </div>
                <div class="reference">
                  <span>Age: above 48</span>
                  <span>23%</span>
                </div> -->
            <div class="box-title">Jewelry preference insights</div>
            <div class="reference-details">
              <% responses.forEach(response=> { %>
                <div class="reference">
                  <span>#<%= response %></span>
                </div>
                <% }) %>
            </div>
          </div>
      </main>
      <aside class="side-bar">
        <div class="side-bar-header">
          <h3>Best Sellers</h3>
          <h3>Revenue</h3>
        </div>
        <div class="side-bar-content">
          <div class="side-bar-page">
            <div class="side-bar-content">
              <% bestSellers.forEach(product=> { %>
                <div class="side-bar-page">
                  <h4>
                    <%= product.name %>
                      <%= product.quantity===0 ? '"SOLD OUT"' : '' %>
                  </h4>
                  <span>$<%= product.revenue.toFixed(2) %></span>
                </div>
                <% }); %>
                  <div class="more-stats-box">
                    <div class="more-stats-header">
                      Most sold out product
                      <img src="../images/statistics/more-stats.svg" alt="more" />
                    </div>
                    <div class="more-stats-body">
                      <% mostPurchased.forEach(product=> { %>
                        <div class="more-stats">
                          <%= product.name %>
                            <h1>
                              <%= product.no_sales %> purchase<%= product.no_sales !==1 ? 's' : '' %>
                            </h1>
                        </div>
                        <% }); %>
                    </div>
                  </div>
            </div>
      </aside>
    </div>

</body>

</html>